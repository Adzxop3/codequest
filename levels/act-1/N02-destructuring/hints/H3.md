# H3 - Destructuring : Default Values et Error Handling

## 💡 Valeurs par Défaut

Évitez les erreurs en définissant des valeurs par défaut.

```javascript
// ✅ Valeurs par défaut simples
const { name = 'Anonymous', age = 0 } = user || {};

// ✅ Valeurs par défaut pour arrays
const [first = 'default', second = 'backup'] = items || [];

// ✅ Valeurs par défaut calculées
const { timestamp = Date.now() } = data || {};
```

## 🔧 Combinaison avec Conditional Logic

```javascript
// Pattern robuste pour APIs
function processApiResponse(response) {
  const {
    data = {},
    meta: { total = 0, page = 1 } = {},
    errors = []
  } = response || {};
  
  if (errors.length > 0) {
    throw new Error(`API Error: ${errors[0].message}`);
  }
  
  return { data, total, page };
}
```

## 🔍 Debugging Destructuring

```javascript
// ✅ Debug: vérifiez vos variables
console.log('Destructured values:', { name, age, email });

// ✅ Vérifiez la source
console.log('Source object:', user);

// ❌ Si undefined/null
const { property } = null; // TypeError !

// ✅ Protection
const { property = 'safe' } = source || {};
```

## 🎯 Test Mental

Vos destructuring assignments fonctionnent-ils si :
- L'objet source est `null` ou `undefined` ?
- Une propriété manque ?
- L'array est vide ?

Si non, ajoutez des valeurs par défaut !